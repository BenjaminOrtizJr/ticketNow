(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(e,t,c){},99:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(28),i=c.n(a),r=(c(70),c(16)),l=c(53),o=c.n(l),j=c(55),b=c.n(j),d=c(56),u=c.n(d),p=c(31),h=c.n(p),O=c(57),x=c.n(O),m=c(58),N=c.n(m),f=c(59),k=c.n(f),v=c(48),g=c.n(v),y=c(49),S=c.n(y),q=c(50),_=c.n(q),C=c(51),T=c.n(C),z=c(52),w=c.n(z),M=c(47),D=c.n(M),I=c(20),E=c(3),A=c(10),L=c(24),B=c.n(L),P=c(0),J=s.a.createContext(),U=B.a.create();U.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.Authorization="Bearer ".concat(t),e}));var F=function(e){var t={user:JSON.parse(localStorage.getItem("user"))||{},token:localStorage.getItem("token")||"",tickets:[],errMsg:""},c=Object(n.useState)(t),s=Object(A.a)(c,2),a=s[0],i=s[1],r=function(e){i((function(t){return Object(E.a)(Object(E.a)({},t),{},{errMsg:e})}))};return Object(P.jsx)(J.Provider,{value:Object(E.a)(Object(E.a)({},a),{},{signup:function(e){B.a.post("/api/auth/signup",e).then((function(e){var t=e.data,c=t.user,n=t.token;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(c)),i((function(e){return Object(E.a)(Object(E.a)({},e),{},{user:c,token:n})}))})).catch((function(e){return r(e.response.data.errMsg)}))},login:function(e){B.a.post("/api/auth/login",e).then((function(e){var t=e.data,c=t.user,n=t.token;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(c)),i((function(e){return Object(E.a)(Object(E.a)({},e),{},{user:c,token:n})}))})).catch((function(e){return r(e.response.data.errMsg)}))},logout:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),i({user:{},token:"",tickets:[]})},resetAuthErr:function(){i((function(e){return Object(E.a)(Object(E.a)({},e),{},{errMsg:""})}))},getAllTickets:function(){U.get("/api/ticket").then((function(e){i((function(t){return Object(E.a)(Object(E.a)({},t),{},{tickets:e.data})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},getUserTickets:function(){U.get("/api/ticket/user").then((function(e){i((function(t){return Object(E.a)(Object(E.a)({},t),{},{tickets:e.data})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},addTicket:function(e){U.post("/api/ticket",e).then((function(e){i((function(t){return Object(E.a)(Object(E.a)({},t),{},{tickets:[].concat(Object(I.a)(t.tickets),[e.data])})}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},deleteTicket:function(e){U.delete("/api/ticket/".concat(e)).then((function(t){i((function(t){return t.filter((function(t){return t._id!==e}))}))})).catch((function(e){return console.log(e.response.data.errMsg)}))},editTicket:function(e,t){B.a.put("/api/ticket/".concat(t),e).then((function(e){i((function(c){return c.map((function(c){return c._id!==t?c:e.data}))}))})).catch((function(e){return console.log(e.response.data.errMsg)}))}}),children:e.children})};function Q(e){var t=e.logout,c=Object(n.useContext)(J).user.username;return Object(P.jsxs)("nav",{className:"nav",children:[Object(P.jsxs)("div",{className:"nav__top",children:[Object(P.jsx)("div",{className:"nav__top-title",children:Object(P.jsx)("h3",{children:"PRODUCTION"})}),Object(P.jsxs)("div",{className:"user__section",children:[Object(P.jsx)(D.a,{className:"user__profile-image",style:{fontSize:36}}),Object(P.jsx)(g.a,{className:"user__online-circle","aria-label":"status-indicator"}),Object(P.jsx)("p",{className:"user__name",children:c})]}),Object(P.jsxs)("div",{className:"nav__top-icons",children:[Object(P.jsx)(S.a,{className:"search-icon","aria-label":"search"}),Object(P.jsx)(_.a,{className:"chat-icon","aria-label":"chat"}),Object(P.jsx)(T.a,{className:"help-icon","aria-label":"help"}),Object(P.jsx)(w.a,{className:"settings-icon","aria-label":"settings"})]}),Object(P.jsx)("button",{className:"logout__button",onClick:t,children:"LOGOUT"})]}),Object(P.jsxs)("div",{className:"nav__side",children:[Object(P.jsx)("div",{className:"filter__icon-container",children:Object(P.jsx)(o.a,{className:"filter-icon","aria-label":"filter"})}),Object(P.jsx)("div",{className:"home__icon-container",children:Object(P.jsx)(r.b,{to:"/home",children:Object(P.jsx)(b.a,{className:"home-icon","aria-label":"home"})})}),Object(P.jsx)("div",{className:"add__icon-container",children:Object(P.jsxs)(r.b,{to:"/form",children:[" ",Object(P.jsx)(u.a,{className:"add-icon","aria-label":"add"})," "]})}),Object(P.jsx)("div",{className:"info__icon-container",children:Object(P.jsx)(r.b,{to:"/info",children:Object(P.jsx)(h.a,{className:"info-icon","aria-label":"information"})})}),Object(P.jsx)("div",{className:"storage__icon-container",children:Object(P.jsx)(r.b,{to:"/ticketqueue",children:Object(P.jsx)(x.a,{className:"storage-icon","aria-label":"storage"})})}),Object(P.jsx)("div",{className:"ticket__icon-container",children:Object(P.jsx)(r.b,{to:"/globalqueue",children:Object(P.jsx)(N.a,{className:"ticket-icon","aria-label":"tickets"})})}),Object(P.jsx)("div",{className:"dashboard__icon-container",children:Object(P.jsx)(r.b,{to:"/stats",children:Object(P.jsx)(k.a,{className:"dashboard-icon","aria-label":"dashboard"})})})]})]})}var G=c(7),R=c(8),H=function(e){var t=e.handleChange,c=e.handleSubmit,n=e.btnText,s=e.errMsg,a=e.inputs,i=a.username,r=a.password;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{className:"login-title",children:"\ud83c\udfab TicketNow"}),Object(P.jsxs)("form",{onSubmit:c,children:[Object(P.jsx)("input",{type:"text",value:i,name:"username",onChange:t,placeholder:"Username"}),Object(P.jsx)("input",{type:"password",value:r,name:"password",onChange:t,placeholder:"Password"}),Object(P.jsx)("button",{children:n}),Object(P.jsx)("div",{className:"err-box",children:Object(P.jsx)("p",{style:{color:"red"},children:s})})]})]})},K={username:"",password:""},V=function(){var e=Object(n.useState)(K),t=Object(A.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(A.a)(a,2),r=i[0],l=i[1],o=Object(n.useContext)(J),j=o.signup,b=o.login,d=o.errMsg,u=o.resetAuthErr;function p(e){var t=e.target,c=t.name,n=t.value;s((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},c,n))}))}function h(){l((function(e){return!e})),u()}return Object(P.jsx)("div",{className:"auth-container",children:r?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(H,{handleChange:p,handleSubmit:function(e){e.preventDefault(),b(c)},inputs:c,btnText:"Login",errMsg:d}),Object(P.jsx)("button",{onClick:h,children:"Register"})]}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(H,{handleChange:p,handleSubmit:function(e){e.preventDefault(),j(c)},inputs:c,btnText:"Sign up",errMsg:d}),Object(P.jsx)("button",{onClick:h,children:"Login"})]})})},W=c(63),X=["path","redirectTo","component","token"];var Y=function(e){var t=e.path,c=e.redirectTo,n=e.component,s=e.token,a=Object(W.a)(e,X);return s?Object(P.jsx)(G.b,{path:t,render:function(){return Object(P.jsx)(n,Object(E.a)({},a))}}):Object(P.jsx)(G.a,{to:c})},Z=c(60),$=c.n(Z),ee={ticketNumber:"",caller:"",location:"",priority:"",callType:"",contactType:"",openedBy:"",opened:"",shortDescription:"",description:""},te=function(e){var t=Object(n.useState)(ee),c=Object(A.a)(t,2),s=c[0],a=c[1],i=e.addTicket;function l(e){var t=e.target,c=t.name,n=t.value;a((function(e){return Object(E.a)(Object(E.a)({},e),{},Object(R.a)({},c,n))}))}function o(e){e.preventDefault(),i(s),a(ee)}var j=s.caller,b=s.location,d=s.priority,u=s.callType,p=s.contactType,O=s.openedBy,x=s.opened,m=s.shortDescription,N=s.description,f=s.ticketNumber,k=Object(n.useContext)(J).user.username;document.querySelector("burger-icon"),document.querySelectorAll("burger-link");return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"top-inner-nav",children:[Object(P.jsxs)("div",{className:"inner-nav-box1",children:[Object(P.jsx)(r.b,{to:"/home",children:Object(P.jsx)($.a,{className:"back-icon","aria-label":"back-arrow"})}),Object(P.jsxs)("span",{className:"ticket-number-container",children:[Object(P.jsx)("h6",{className:"ticket-number",children:"Call-CALL0000001"}),Object(P.jsx)("h6",{className:"new-record",children:"New record"})]})]}),Object(P.jsx)("div",{className:"inner-nav-box2",children:Object(P.jsx)("button",{className:"submit-button1",onClick:o,children:"Submit"})})]}),Object(P.jsxs)("form",{className:"form-container",children:[Object(P.jsxs)("div",{className:"section-one",children:[Object(P.jsxs)("div",{className:"section-one-a",children:[Object(P.jsxs)("div",{className:"label-container1",children:[Object(P.jsx)("label",{className:"labels",for:"ticket_number",children:"Number"}),Object(P.jsx)("label",{className:"labels",for:"caller_name",children:"Caller"}),Object(P.jsx)("label",{className:"labels",for:"location",children:"Location"}),Object(P.jsx)("label",{className:"labels",for:"priority",children:"-*Priority*-"}),Object(P.jsx)("label",{className:"labels",for:"call-type",children:"Call Type"})]}),Object(P.jsxs)("div",{className:"input-container1",children:[Object(P.jsx)("input",{id:"ticket_number",className:"input-top-left",type:"text",name:"ticketNumber",placeholder:"#########",value:f,onChange:l,required:!0}),Object(P.jsx)("input",{id:"caller_name",className:"input-top-left",type:"text",name:"caller",value:j,onChange:l,required:!0}),Object(P.jsx)("input",{id:"location",className:"input-top-left",type:"text",name:"location",value:b,onChange:l,required:!0}),Object(P.jsx)("input",{id:"priority",className:"input-top-left",type:"text",name:"priority",value:d,onChange:l,required:!0}),Object(P.jsx)("input",{id:"call-type",className:"input-top-left",type:"text",name:"callType",value:u,onChange:l,required:!0})]})]}),Object(P.jsxs)("div",{className:"section-one-b",children:[Object(P.jsxs)("div",{className:"label-container2",children:[Object(P.jsx)("label",{className:"labels",for:"timestamp",children:"Opened"}),Object(P.jsx)("label",{className:"labels",for:"opened-by",children:"Opened by"}),Object(P.jsx)("label",{className:"labels",for:"contact-method",children:"Contact type"})]}),Object(P.jsxs)("div",{className:"input-container2",children:[Object(P.jsx)("input",{id:"timestamp",className:"input-top-right",type:"date",name:"opened",value:x,onChange:l,required:!0}),Object(P.jsxs)("div",{className:"info-container",children:[Object(P.jsx)("input",{id:"opened-by",className:"input-top-right",type:"text",name:"openedBy",placeholder:k,value:O.username,onChange:l,required:!0}),Object(P.jsx)(h.a,{style:{fontSize:27},className:"info-button"}),Object(P.jsxs)("div",{className:"info-pop-container",children:[k," currently logged in."]})]}),Object(P.jsx)("input",{id:"contact-method",className:"input-top-right",type:"text",name:"contactType",value:p,onChange:l,required:!0})]})]})]}),Object(P.jsxs)("div",{className:"section-two",children:[Object(P.jsxs)("div",{className:"label-container3",children:[Object(P.jsx)("label",{className:"labels",for:"short-description",children:"Short Description"}),Object(P.jsx)("label",{className:"labels",for:"description",children:"Description"})]}),Object(P.jsxs)("div",{className:"section-two-input",children:[Object(P.jsx)("input",{type:"text",className:"shortDescription",name:"shortDescription",value:m,onChange:l,required:!0}),Object(P.jsx)("textarea",{type:"text",className:"text-box",name:"description",value:N,onChange:l,required:!0})]})]})]}),Object(P.jsx)("div",{className:"form-buttons",children:Object(P.jsx)("button",{className:"submit-button2",onClick:o,children:"Submit"})})]})},ce=c(61),ne=c.n(ce),se=c(62),ae=c.n(se),ie=function(e){var t=e.ticketNumber,c=e.caller,n=e.location,s=e.priority,a=e.callType,i=e.contactType,r=e.openedBy,l=e.opened,o=e.shortDescription,j=e.description,b=e.completed;return Object(P.jsxs)("div",{className:"ticket-container",children:[Object(P.jsx)("input",{className:"ticket-container-checkbox",name:"completed",value:b,type:"checkbox"}),Object(P.jsx)("p",{className:"ticket-container-number",children:t}),Object(P.jsx)("p",{className:"ticket-container-caller",children:c}),Object(P.jsx)("p",{className:"ticket-container-location",children:n}),Object(P.jsx)("p",{className:"ticket-container-priority",children:s}),Object(P.jsx)("p",{className:"ticket-container-calltype",children:a}),Object(P.jsx)("p",{className:"ticket-container-contacttype",children:i}),Object(P.jsx)("p",{className:"ticket-container-openedby",children:r}),Object(P.jsx)("p",{className:"ticket-container-opened",children:l}),Object(P.jsx)("p",{className:"ticket-container-shortdescription",children:o}),Object(P.jsx)("p",{className:"ticket-container-description",children:j}),Object(P.jsx)(ne.a,{className:"edit-icon",style:{fontSize:20}}),Object(P.jsx)(ae.a,{className:"delete-icon",style:{fontSize:20}})]})},re=function(e){var t=e.tickets;return Object(P.jsx)("div",{className:"ticket-list",children:t.map((function(e){return Object(n.createElement)(ie,Object(E.a)(Object(E.a)({},e),{},{key:e._id}))}))})},le=c(6),oe=c.n(le),je=function(e){var t=Object(n.useContext)(J),c=t.tickets,s=t.getUserTickets;return Object(n.useEffect)((function(){s()}),[]),Object(P.jsxs)("div",{className:"ticket-queue",children:[Object(P.jsx)("h1",{children:"My Queue"}),Object(P.jsxs)("div",{className:"queue-headers",children:[Object(P.jsxs)("span",{className:"span1",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Number"})]}),Object(P.jsxs)("span",{className:"span2",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Caller"})]}),Object(P.jsxs)("span",{className:"span3",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Location"})]}),Object(P.jsxs)("span",{className:"span4",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Priority"})]}),Object(P.jsxs)("span",{className:"span5",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Call type"})]}),Object(P.jsxs)("span",{className:"span6",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Contact type"})]}),Object(P.jsxs)("span",{className:"span7",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Opened by"})]}),Object(P.jsxs)("span",{className:"span8",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Opened"})]}),Object(P.jsxs)("span",{className:"span9",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Short description"})]}),Object(P.jsxs)("span",{className:"span10",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Description"})]})]}),Object(P.jsx)(re,{tickets:c})]})},be=function(e){var t=e.ticketNumber,c=e.caller,n=e.location,s=e.priority,a=e.callType,i=e.contactType,r=e.openedBy,l=e.opened,o=e.shortDescription,j=e.description,b=e.completed;return Object(P.jsxs)("div",{className:"ticket-container",children:[Object(P.jsx)("input",{className:"ticket-container-checkbox",name:"completed",value:b,type:"checkbox"}),Object(P.jsx)("p",{className:"ticket-container-number",children:t}),Object(P.jsx)("p",{className:"ticket-container-caller",children:c}),Object(P.jsx)("p",{className:"ticket-container-location",children:n}),Object(P.jsx)("p",{className:"ticket-container-priority",children:s}),Object(P.jsx)("p",{className:"ticket-container-calltype",children:a}),Object(P.jsx)("p",{className:"ticket-container-contacttype",children:i}),Object(P.jsx)("p",{className:"ticket-container-openedby",children:r}),Object(P.jsx)("p",{className:"ticket-container-opened",children:l}),Object(P.jsx)("p",{className:"ticket-container-shortdescription",children:o}),Object(P.jsx)("p",{className:"ticket-container-description",children:j})]})},de=function(e){var t=e.tickets;return Object(P.jsx)("div",{className:"ticket-list",children:t.map((function(e){return Object(n.createElement)(be,Object(E.a)(Object(E.a)({},e),{},{key:e._id}))}))})},ue=function(e){var t=Object(n.useContext)(J),c=t.tickets,s=t.getAllTickets;return Object(n.useEffect)((function(){s()}),[]),Object(P.jsxs)("div",{className:"ticket-queue",children:[Object(P.jsx)("h1",{children:"Global Queue"}),Object(P.jsxs)("div",{className:"queue-headers",children:[Object(P.jsxs)("span",{className:"span11",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Number"})]}),Object(P.jsxs)("span",{className:"span22",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Caller"})]}),Object(P.jsxs)("span",{className:"span33",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Location"})]}),Object(P.jsxs)("span",{className:"span44",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Priority"})]}),Object(P.jsxs)("span",{className:"span55",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Call type"})]}),Object(P.jsxs)("span",{className:"span66",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Contact type"})]}),Object(P.jsxs)("span",{className:"span77",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Opened by"})]}),Object(P.jsxs)("span",{className:"span88",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Opened"})]}),Object(P.jsxs)("span",{className:"span99",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Short description"})]}),Object(P.jsxs)("span",{className:"span100",children:[Object(P.jsx)(oe.a,{style:{fontSize:16}}),Object(P.jsx)("p",{className:"queue-header-text",children:"Description"})]})]}),Object(P.jsx)(de,{tickets:c})]})},pe=function(e){var t=e.id,c=e.title,n=e.body;return Object(P.jsxs)("div",{className:"home-page-post",children:[Object(P.jsx)("small",{children:t}),Object(P.jsx)("h1",{children:c}),Object(P.jsx)("p",{children:n})]})},he=function(){var e=Object(n.useState)([]),t=Object(A.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),i=Object(A.a)(a,2),r=i[0],l=i[1];return Object(n.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){if(e.ok)return e.json();throw new Error("something went wrong while requesting posts")})).then((function(e){return s(e)})).catch((function(e){return l(e.message)}))}),[]),r?Object(P.jsx)("h1",{children:r}):Object(P.jsxs)("div",{className:"home-page",children:[Object(P.jsx)("h1",{children:"HomePage"}),Object(P.jsx)("div",{className:"post-container",children:c.map((function(e){return Object(n.createElement)(pe,Object(E.a)(Object(E.a)({},e),{},{key:e._id}))}))})]})},Oe=function(){return Object(P.jsx)("div",{className:"information-container",children:Object(P.jsx)("h1",{children:"Knowledge"})})},xe=function(){return Object(P.jsx)("div",{className:"queue-stats",children:Object(P.jsx)("h1",{children:"QueueStats"})})};var me=function(){var e=Object(n.useContext)(J),t=e.token,c=e.logout,s=e.addTicket;return Object(P.jsxs)("div",{className:"App",children:[t&&Object(P.jsx)(Q,{logout:c}),Object(P.jsxs)(G.d,{children:[Object(P.jsx)(G.b,{exact:!0,path:"/",render:function(){return t?Object(P.jsx)(G.a,{to:"/form"}):Object(P.jsx)(V,{})}}),Object(P.jsx)(Y,{path:"/home",component:he,redirectTo:"/",token:t}),Object(P.jsx)(Y,{path:"/form",component:te,redirectTo:"/",token:t,addTicket:s}),Object(P.jsx)(Y,{path:"/info",component:Oe,redirectTo:"/",token:t}),Object(P.jsx)(Y,{path:"/ticketqueue",component:je,redirectTo:"/",token:t}),Object(P.jsx)(Y,{path:"/globalqueue",component:ue,redirectTo:"/",token:t}),Object(P.jsx)(Y,{path:"/stats",component:xe,redirectTo:"/",token:t})]})]})};i.a.render(Object(P.jsx)(s.a.StrictMode,{children:Object(P.jsx)(r.a,{children:Object(P.jsx)(F,{children:Object(P.jsx)(me,{})})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.c6b12dbe.chunk.js.map